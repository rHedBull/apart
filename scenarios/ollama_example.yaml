# Ollama Model Testing Results (2025-11-23):
# ‚úÖ mistral:7b WORKS with enhanced prompts - generates actual numeric values
# ‚ö†Ô∏è  Success rate: ~50-70% (sometimes completes full simulation, sometimes fails)
# üéØ Common issues: Truncated JSON, inconsistent format compliance
# üí° For 99%+ reliability: Use Gemini (see scenarios/llm_example.yaml)
# üîß For local/privacy: mistral:7b is usable but expect occasional failures

# NOTE: This example demonstrates Ollama working with v2.0 simulation engine.
# Enhanced prompts teach the model to use actual values instead of expressions.
# Expect some runs to fail - this is normal for smaller local models.

max_steps: 5
orchestrator_message: "What is your strategic decision for this turn?"

# Engine configuration - LLM-powered simulation engine
engine:
  provider: "ollama"
  model: "mistral:7b"  # Works for simple cases; may struggle with complex simulation
  base_url: "http://localhost:11434"

  system_prompt: |
    You are the simulation engine managing an economic strategy game.
    Your role is to simulate realistic economic outcomes based on agent decisions.

    Maintain cause-and-effect relationships between agent actions and market conditions.
    Consider factors like interest rates, market volatility, and agent risk profiles.
    Keep responses focused and concise.

  simulation_plan: |
    This is a 5-step economic simulation with 3 AI agents using local Ollama models:
    - Mistral Strategist (aggressive, high-risk player)
    - Llama Advisor (balanced, steady growth focus)
    - Gemma Analyst (quick, data-driven decisions)

    Simulate realistic market dynamics, capital flows, and investment outcomes.
    Each agent's decisions should impact their capital and potentially affect global market conditions.

  realism_guidelines: |
    - Capital changes should be proportional to risk taken (¬±5-20% per step)
    - Market volatility affects outcome variance
    - Interest rates influence baseline returns
    - High-risk strategies have higher variance in outcomes
    - Agent decisions should have logical consequences

  context_window_size: 3

# Game state configuration
game_state:
  initial_resources: 200
  difficulty: "normal"

# Global variables tracked across the entire simulation
global_vars:
  interest_rate:
    type: float
    default: 0.04
    min: 0.0
    max: 1.0
    description: "Global interest rate affecting all agents"

  market_volatility:
    type: float
    default: 0.15
    min: 0.0
    max: 1.0
    description: "Market volatility factor"

  round_number:
    type: int
    default: 0
    min: 0
    description: "Current round number"

# Per-agent variables tracked for each agent
agent_vars:
  capital:
    type: float
    default: 1000.0
    min: 0.0
    description: "Agent's available capital"

  risk_tolerance:
    type: float
    default: 0.5
    min: 0.0
    max: 1.0
    description: "Agent's risk tolerance (0=risk-averse, 1=risk-seeking)"

  decisions_made:
    type: int
    default: 0
    min: 0
    description: "Number of decisions made by agent"

agents:
  # Aggressive AI strategist
  - name: "Mistral Strategist"
    llm:
      provider: "ollama"
      model: "mistral:7b"
      base_url: "http://localhost:11434"  # Optional, this is the default
    system_prompt: |
      You are an aggressive AI strategist in an economic simulation.
      You favor high-risk, high-reward strategies.
      Keep responses concise (1-2 sentences) describing your strategic decision.
      Consider the current interest rate and market volatility.
    variables:
      capital: 2000.0
      risk_tolerance: 0.85

  # Balanced AI advisor
  - name: "Balanced Advisor"
    llm:
      provider: "ollama"
      model: "mistral:7b"
    system_prompt: |
      You are a balanced financial advisor in an economic simulation.
      You seek steady growth with calculated risks.
      Keep responses brief (1-2 sentences) explaining your approach.
      Factor in market conditions when making decisions.
    variables:
      capital: 1500.0
      risk_tolerance: 0.50

  # Conservative analyst
  - name: "Conservative Analyst"
    llm:
      provider: "ollama"
      model: "mistral:7b"
    system_prompt: |
      You are a conservative analyst in an economic simulation.
      You prioritize capital preservation and steady returns.
      Keep responses very short (1 sentence) with your decision.
      Consider all available market data carefully.
    variables:
      capital: 1200.0
      risk_tolerance: 0.30
